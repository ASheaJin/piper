{"version":3,"sources":["webpack:///./src/components/page.vue?2b68","webpack:///src/components/page.vue","webpack:///./src/components/page.vue?10a5","webpack:///./src/components/page.vue","webpack:///./src/views/admin/list.vue?6321","webpack:///./src/api/admin.js","webpack:///src/views/admin/list.vue","webpack:///./src/views/admin/list.vue?0843","webpack:///./src/views/admin/list.vue","webpack:///./src/components/page.vue?c339","webpack:///./src/views/admin/list.vue?f024"],"names":["render","_vm","this","_h","$createElement","_c","_self","total","staticClass","attrs","background","layout","Number","current-page","pageNo","on","current-change","currentChange","_e","staticRenderFns","pagevue_type_script_lang_js_","props","methods","page","$emit","components_pagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","placeholder","prefix-icon","clearable","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","search","model","value","postData","callback","$$v","$set","expression","click","addAdmin","_v","staticStyle","width","border","data","adminList","prop","label","align","scopedSlots","_u","fn","scope","size","row","status","isToggleValid","$index","_s","title","visible","isShowDeleteDialog","before-close","cancel","update:visible","itemData","userId","slot","deleteItem","isShowAddAdmin","adminId","adminType","_l","item","code","name","confirmAdd","togglePages","admin_add_api","admin_delete_api","admin_list_api","admin_type_api","get_admin_add_api","params","JSON_FETCH","method","url","get_admin_delete_api","get_admin_list_api","get_admin_type_api","listvue_type_script_lang_js_","adminTypeList","keyword","pageSize","getList","_this","then","res","list","forEach","ele","formatStatus","_this2","length","index","_this3","obj","formatData","_this4","piperType","$message","message","_this5","adminUserId","msg","created","components","admin_listvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_3d57b491_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_list_vue_vue_type_style_index_0_id_3d57b491_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/chunk-1603bb74.23e156c0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.total > 10)?_c('el-pagination',{staticClass:\"page\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":Number(_vm.total),\"current-page\":_vm.pageNo},on:{\"current-change\":_vm.currentChange}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 分页组件 -->\n<template>\n    <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"Number(total)\"\n        :current-page=\"pageNo\"\n        @current-change='currentChange'\n        class=\"page\"\n        v-if=\"total > 10\">\n    </el-pagination>\n</template>\n\n<script>\nexport default {\n    props: ['total','pageNo'],\n    methods: {\n        currentChange (page) {\n            this.$emit('togglePages', page);\n        }\n    },\n}\n</script>\n\n<style scoped lang='scss'>\n.page{\n    text-align: center;\n    margin-top: 20px;\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=ac09ad2c&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac09ad2c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"baseTop\"},[_c('el-input',{staticClass:\"itemInput\",attrs:{\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.postData.keyword),callback:function ($$v) {_vm.$set(_vm.postData, \"keyword\", $$v)},expression:\"postData.keyword\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addAdmin}},[_vm._v(\"添加\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.adminList}},[_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户Id\"}}),_c('el-table-column',{attrs:{\"prop\":\"ptype\",\"label\":\"管理员类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"formatStatus\",\"label\":\"是否可用\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":scope.row.status == 1 ? 'danger' : 'primary'},on:{\"click\":function($event){return _vm.isToggleValid(scope.row, scope.$index)}}},[_vm._v(_vm._s(scope.row.status == 1 ? '禁用' : '启用'))])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"删除\",\"visible\":_vm.isShowDeleteDialog,\"width\":\"30%\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.isShowDeleteDialog=$event}}},[(_vm.itemData)?_c('span',[_vm._v(\"是否确认删除\"),_c('span',{staticClass:\"tips\"},[_vm._v(_vm._s(_vm.itemData.userId))]),_vm._v(\"管理员\")]):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"删 除\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"添加\",\"visible\":_vm.isShowAddAdmin,\"width\":\"50%\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.isShowAddAdmin=$event}}},[_c('div',{staticClass:\"addItem\"},[_c('span',[_vm._v(\"管理员账号：\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入管理员账号\"},model:{value:(_vm.adminId),callback:function ($$v) {_vm.adminId=$$v},expression:\"adminId\"}})],1),_c('div',{staticClass:\"addItem\"},[_c('span',[_vm._v(\"管理员类型：\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.adminType),callback:function ($$v) {_vm.adminType=$$v},expression:\"adminType\"}},_vm._l((_vm.adminTypeList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}),1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmAdd}},[_vm._v(\"添 加\")])],1)]),_c('page',{attrs:{\"total\":_vm.total,\"pageNo\":_vm.postData.pageNo},on:{\"togglePages\":_vm.togglePages}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 管理员\n\nimport { JSON_FETCH } from '@/axios/index';\n\n// 添加管理员\nconst admin_add_api = `/admin/add`;\n\n// 删除管理员\nconst admin_delete_api = `/admin/delete`;\n\n// 管理员列表\nconst admin_list_api = `/admin/list`;\n\n// 管理员类型\nconst admin_type_api = `/admin/getPiperType`;\n/**\n * 添加管理员\n * @param { Object } params\n * @param { String } params.adminUserId 管理员id\n * @param { String } params.userId 添加用户id\n */\nexport function get_admin_add_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: admin_add_api,\n        data: params\n    })\n}\n\n/**\n * 删除管理员\n * @param { Object } params\n * @param { String } params.adminUserId 管理员id\n * @param { String } params.userId 删除用户id\n */\nexport function get_admin_delete_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: admin_delete_api,\n        data: params\n    })\n}\n\n/**\n * 管理员列表\n * @param { Object } params\n * @param { String } params.keyword 关键字\n * @param { String } params.pageNo  当前页\n * @param { String } params.pageSize 当前数量\n * @param { String } params.userId 用户id\n */\nexport function get_admin_list_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: admin_list_api,\n        data: params\n    })\n}\n/**\n * 管理员类型\n */\nexport function get_admin_type_api() {\n    return JSON_FETCH({\n        method: 'post',\n        url: admin_type_api\n    })\n}\n","<template>\n    <div>\n        <!-- 顶部操作 -->\n        <div class=\"baseTop\">\n            <el-input\n                class=\"itemInput\"\n                placeholder=\"请输入内容\"\n                prefix-icon=\"el-icon-search\"\n                v-model=\"postData.keyword\"\n                @keyup.enter.native=\"search\"\n                clearable>\n            </el-input>\n            <el-button type=\"primary\" @click=\"addAdmin\">添加</el-button>\n        </div>\n        <!-- 列表数据 -->\n        <el-table\n            border\n            :data=\"adminList\"\n            style=\"width: 100%\">\n            <el-table-column\n                prop=\"userId\"\n                label=\"用户Id\">\n            </el-table-column>\n            <el-table-column\n                prop=\"ptype\"\n                label=\"管理员类型\">\n            </el-table-column>\n            <el-table-column\n                prop=\"formatStatus\"\n                label=\"是否可用\"\n                width=\"180\">\n            </el-table-column>\n            <el-table-column \n                            label=\"操作\"\n                            width=\"180\"\n                            align='center'>\n                <template slot-scope=\"scope\">\n                    <el-button\n                    size=\"mini\"\n                    :type=\"scope.row.status == 1 ? 'danger' : 'primary'\"\n                    @click=\"isToggleValid(scope.row, scope.$index)\">{{scope.row.status == 1 ? '禁用' : '启用'}}</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        \n        <!-- 删除弹框 -->\n        <el-dialog\n            title=\"删除\"\n            :visible.sync=\"isShowDeleteDialog\"\n            width=\"30%\"\n            :before-close=\"cancel\">\n            <span v-if=\"itemData\">是否确认删除<span class=\"tips\">{{itemData.userId}}</span>管理员</span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancel\">取 消</el-button>\n                <el-button type=\"danger\" @click=\"deleteItem\">删 除</el-button>\n            </span>\n        </el-dialog>\n        <!-- 添加弹框 -->\n        <el-dialog\n            title=\"添加\"\n            :visible.sync=\"isShowAddAdmin\"\n            width=\"50%\"\n            :before-close=\"cancel\">\n            <div class=\"addItem\">\n                <span>管理员账号：</span>\n                <el-input\n                    placeholder=\"请输入管理员账号\"\n                    v-model=\"adminId\">\n                </el-input>\n            </div>\n            <div class=\"addItem\">\n                <span>管理员类型：</span>\n                <el-select v-model=\"adminType\" placeholder=\"请选择\" clearable>\n                    <el-option\n                    v-for=\"item in adminTypeList\"\n                    :key=\"item.code\"\n                    :label=\"item.name\"\n                    :value=\"item.code\">\n                    </el-option>\n                </el-select>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancel\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"confirmAdd\">添 加</el-button>\n            </span>\n        </el-dialog>\n        <page :total='total' :pageNo='postData.pageNo' @togglePages='togglePages'></page>\n    </div>\n</template>\n\n<script>\nimport { get_admin_list_api, get_admin_delete_api, get_admin_add_api, get_admin_type_api } from '@/api/admin';\nimport page from '@/components/page';\nexport default {\n    data() {\n        return {\n            adminType: '', // 管理员类型\n            adminTypeList: '', // 管理员类型列表\n            adminId: '', // 管理员id\n            isShowAddAdmin: false, // 是否显示添加框\n            itemData: null, // 当前条数据\n            isShowDeleteDialog: false, // 是否显示删除框\n            postData: {\n                \"keyword\": \"\",\n                \"pageNo\": 1,\n                \"pageSize\": \"10\"\n            }, // 传递参数\n            adminList:[], // 列表数据\n            total: '',  // 总条数\n        }\n    },\n    methods: {\n        // 获取数据\n        getList (postData) {\n            get_admin_list_api(postData).then(res => {\n                res.list.forEach(ele => {\n                    if ( ele.status == 1) {\n                        ele.formatStatus = '可用';\n                    } else {\n                        ele.formatStatus = '不可用';\n                    }\n                });\n                this.adminList = res.list;\n                this.total = res.total;\n            })\n        },\n        // 分页\n        togglePages (page) {\n            this.postData.pageNo = page;\n            this.getList(this.postData);\n        },\n\n        // 搜索\n        search () {\n            this.postData.pageNo = 1;\n            this.getList(this.postData);\n        },\n        // 取消\n        cancel () {\n            this.isShowAddAdmin = false;\n            this.isShowDeleteDialog = false;\n        },\n        // 添加管理员\n        addAdmin () {\n            this.adminId = '';\n            this.adminType = '';\n            this.isShowAddAdmin = true;\n            if ( this.adminTypeList.length == 0 ) {\n                get_admin_type_api().then(res => {\n                    this.adminTypeList = res;\n                })\n            } \n        },\n        // 删除管理员\n        isToggleValid (row, index) {\n            let obj = {\n                userId: row.userId\n            };\n            if( row.status == 1 ) {\n                get_admin_delete_api(obj).then(() => {\n                    this.adminList[index].status = '0'\n                    this.formatData('禁用成功！','success');\n                });\n            } else {\n                get_admin_add_api(obj).then(() => {\n                    this.adminId = '';\n                    this.adminList[index].status = '1'\n                    this.formatData('启用成功！','success');\n                })\n            }\n            // this.isShowDeleteDialog = true;\n            // this.itemData = row;\n        },\n        // 确认添加管理员\n        confirmAdd () {\n            // 非空校验\n            if ( this.adminId == '' ) {\n                this.$message({\n                    message: '请输入管理员账号',\n                    type: 'warning'\n                });\n                return ;\n            }\n            if ( this.adminType == '' ) {\n                this.$message({\n                    message: '请选择管理员类型',\n                    type: 'warning'\n                });\n                return ;\n            }\n            let obj = {\n                userId : this.adminId, // 添加的管理员账号\n                piperType: this.adminType\n            };\n            // 添加管理员\n            get_admin_add_api(obj).then(() => {\n                this.adminId = '';\n                this.formatData('成功添加管理员！','success');\n                // 刷新列表数据，再次请求列表数据。\n                this.getList(this.postData);\n            })\n        },\n        // 确认删除管理员\n        deleteItem () {\n            let obj = {\n                userId: this.itemData.userId,\n                adminUserId: this.postData.userId\n            };\n            get_admin_delete_api(obj).then(() => {\n                this.formatData('删除管理员！','success');\n                // 刷新列表数据，再次请求列表数据。\n                this.getList(this.postData);\n            });\n        },\n        // 格式化数据\n        formatData (msg,type) {\n            this.$message({\n                message: msg,\n                type: type\n            });\n            this.isShowAddAdmin = false;\n            this.isShowDeleteDialog = false;\n            this.postData.pageNo = 1;\n        }\n    },\n    // 获取列表数据\n    created () {\n        this.getList(this.postData);\n    },\n    components: {\n        page\n    }\n}\n</script>\n\n<style scoped lang='scss'>\n.addItem{\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n    span{\n        display: block;\n        width:150px;\n    }\n    .el-select{\n        width: 100%;\n    }\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=3d57b491&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=3d57b491&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d57b491\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=3d57b491&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=3d57b491&scoped=true&lang=scss&\""],"sourceRoot":""}