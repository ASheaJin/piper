{"version":3,"sources":["webpack:////Users/aduo/Desktop/piper/src/components/page.vue?3fb5","webpack:///src/components/page.vue","webpack:////Users/aduo/Desktop/piper/src/components/page.vue?36ca","webpack:////Users/aduo/Desktop/piper/src/components/page.vue","webpack:////Users/aduo/Desktop/piper/src/views/publisher/subcription.vue?0bce","webpack:////Users/aduo/Desktop/piper/src/api/subcription.js","webpack:///src/views/publisher/subcription.vue","webpack:////Users/aduo/Desktop/piper/src/views/publisher/subcription.vue?14fe","webpack:////Users/aduo/Desktop/piper/src/views/publisher/subcription.vue","webpack:////Users/aduo/Desktop/piper/src/components/page.vue?e99a"],"names":["render","_vm","this","_h","$createElement","_c","_self","total","staticClass","attrs","background","layout","Number","current-page","pageNo","on","current-change","currentChange","_e","staticRenderFns","pagevue_type_script_lang_js_","props","methods","page","$emit","components_pagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","placeholder","prefix-icon","clearable","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","search","model","value","postData","callback","$$v","$set","expression","click","add","_v","staticStyle","width","border","data","subcriptionList","prop","label","align","scopedSlots","_u","fn","scope","size","handleDelete","row","title","visible","isShowAddDialog","before-close","cancel","update:visible","userId","slot","addSubcription","isShowDeleteDialog","_s","itemData","deleteItem","togglePages","subcription_subscribe_api","subcription_unsubscribe_api","subcription_list_api","get_subcription_subscribe_api","params","JSON_FETCH","method","url","get_subcription_unsubscribe_api","get_subcription_list_api","subcriptionvue_type_script_lang_js_","components","id","$route","keyword","pageSize","publisherId","getData","_this","then","res","list","getList","formatData","_this2","obj","_this3","$message","message","msg","created","publisher_subcriptionvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-3e1aca19.a19a6808.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.total > 10)?_c('el-pagination',{staticClass:\"page\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":Number(_vm.total),\"current-page\":_vm.pageNo},on:{\"current-change\":_vm.currentChange}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 分页组件 -->\n<template>\n    <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"Number(total)\"\n        :current-page=\"pageNo\"\n        @current-change='currentChange'\n        class=\"page\"\n        v-if=\"total > 10\">\n    </el-pagination>\n</template>\n\n<script>\nexport default {\n    props: ['total','pageNo'],\n    methods: {\n        currentChange (page) {\n            this.$emit('togglePages', page);\n        }\n    },\n}\n</script>\n\n<style scoped lang='scss'>\n.page{\n    text-align: center;\n    margin-top: 20px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=ac09ad2c&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac09ad2c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"baseTop\"},[_c('el-input',{staticClass:\"itemInput\",attrs:{\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.postData.keyword),callback:function ($$v) {_vm.$set(_vm.postData, \"keyword\", $$v)},expression:\"postData.keyword\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.subcriptionList}},[_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"publisherId\",\"width\":\"180\",\"label\":\"出版社Id\"}}),_c('el-table-column',{attrs:{\"prop\":\"subscriptionId\",\"label\":\"订阅Id\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"添加\",\"visible\":_vm.isShowAddDialog,\"width\":\"50%\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.isShowAddDialog=$event}}},[_c('div',{staticClass:\"addItem\"},[_c('span',[_vm._v(\"用户Id：\")]),_c('el-input',{staticClass:\"itemInput\",attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\"},model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addSubcription}},[_vm._v(\"添 加\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"删除\",\"visible\":_vm.isShowDeleteDialog,\"width\":\"30%\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.isShowDeleteDialog=$event}}},[(_vm.itemData)?_c('span',[_vm._v(\"是否确认删除\"),_c('span',{staticClass:\"tips\"},[_vm._v(_vm._s(_vm.itemData.userId))]),_vm._v(\"用户订阅\")]):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"删 除\")])],1)]),_c('page',{attrs:{\"total\":_vm.total,\"pageNo\":_vm.postData.pageNo},on:{\"togglePages\":_vm.togglePages}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 订阅\n\nimport { JSON_FETCH } from '@/axios/index';\n\n// 添加订阅\nconst subcription_subscribe_api = `/subcription/subscribe`;\n\n// 取消订阅\nconst subcription_unsubscribe_api = `/subcription/unsubscribe`;\n\n// 订阅列表\nconst subcription_list_api = `/subcription/list`;\n\n/**\n * 添加订阅\n * @param { Object } params\n * @param { String } params.addUserId 添加订阅id\n * @param { String } params.publisherId 出版社id\n * @param { String } params.userId 当前用户id\n */\nexport function get_subcription_subscribe_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: subcription_subscribe_api,\n        data: params\n    })\n}\n\n/**\n * 取消订阅\n * @param { Object } params\n * @param { String } params.publusherId 出版社id\n * @param { String } params.userId 当前用户id\n */\nexport function get_subcription_unsubscribe_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: subcription_unsubscribe_api,\n        data: params\n    })\n}\n\n/**\n * 订阅列表\n * @param { Object } params\n * @param { String } params.keyword 关键字\n * @param { String } params.pageNo  当前页\n * @param { String } params.pageSize 当前数量\n * @param { String } params.publisherId 出版社id\n */\nexport function get_subcription_list_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: subcription_list_api,\n        data: params\n    })\n}","<template>\n    <div>\n         <!-- 顶部操作 -->\n        <div class=\"baseTop\">\n            <el-input\n                class=\"itemInput\"\n                placeholder=\"请输入内容\"\n                prefix-icon=\"el-icon-search\"\n                v-model=\"postData.keyword\"\n                @keyup.enter.native=\"search\"\n                clearable>\n            </el-input>\n            <el-button type=\"primary\" @click=\"add\">添加</el-button>\n        </div>\n        <!-- 列表数据 -->\n        <el-table\n            border\n            :data=\"subcriptionList\"\n            style=\"width: 100%\">\n            <el-table-column\n                prop=\"userId\"\n                label=\"用户名\">\n            </el-table-column>\n            <el-table-column\n                prop=\"publisherId\"\n                width=\"180\"\n                label=\"出版社Id\">\n            </el-table-column>\n            <el-table-column\n                prop=\"subscriptionId\"\n                label=\"订阅Id\"\n                width=\"180\">\n            </el-table-column>\n            <el-table-column \n                            label=\"操作\"\n                            width=\"150\"\n                            align='center'>\n                <template slot-scope=\"scope\">\n                    <el-button\n                    size=\"mini\"\n                    type=\"danger\"\n                    @click=\"handleDelete(scope.row)\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!-- 添加弹框 -->\n        <el-dialog\n            title='添加'\n            :visible.sync=\"isShowAddDialog\"\n            width=\"50%\"\n            :before-close=\"cancel\">\n            <div class=\"addItem\">\n                <span>用户Id：</span>\n                <el-input\n                    class=\"itemInput\"\n                    placeholder=\"请输入用户名\"\n                    v-model=\"userId\"\n                    clearable>\n                </el-input>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancel\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"addSubcription\">添 加</el-button>\n            </span>\n        </el-dialog>\n        <!-- 删除弹框 -->\n        <el-dialog\n            title=\"删除\"\n            :visible.sync=\"isShowDeleteDialog\"\n            width=\"30%\"\n            :before-close=\"cancel\">\n            <span v-if=\"itemData\">是否确认删除<span class=\"tips\">{{itemData.userId}}</span>用户订阅</span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancel\">取 消</el-button>\n                <el-button type=\"danger\" @click=\"deleteItem\">删 除</el-button>\n            </span>\n        </el-dialog>\n         <!-- 分页 -->\n        <page :total='total' :pageNo='postData.pageNo' @togglePages='togglePages'></page>\n    </div>\n</template>\n\n<script>\nimport { get_subcription_list_api, get_subcription_subscribe_api,get_subcription_unsubscribe_api } from '@/api/subcription';\nimport page from '@/components/page';\nexport default {\n    components: {\n        page\n    },\n    data() {\n        return {\n            itemData:null,\n            userId: '',\n            isShowDeleteDialog: false, \n            isShowAddDialog:false,\n            id: this.$route.params.id, //出版社id\n            postData: {\n                \"keyword\": \"\",\n                \"pageNo\": 1,\n                \"pageSize\": \"10\",\n                \"publisherId\": ''\n            },\n            total: '', // 总条数\n            subcriptionList: [] // 列表数据\n        }\n    },\n    methods: {\n        // 获取数据\n        getData () {\n            this.postData.publisherId = this.id;\n            get_subcription_list_api(this.postData).then(res => {\n                this.subcriptionList = res.list;\n                this.total = res.total;\n            })\n        },\n        // 分页\n        togglePages (page) {\n            this.postData.pageNo = page;\n            this.getList(this.postData);\n        },\n        // 搜索\n        search () {\n            this.postData.pageNo = 1;\n            this.getList(this.postData);\n        },\n        // 添加\n        add() {\n            this.userId = '';\n            this.formatData();\n            this.isShowAddDialog = true;\n        },\n        // 删除\n        handleDelete(row) {\n            this.itemData = row;\n            this.isShowDeleteDialog = true;\n        },\n        // 取消\n        cancel () {\n            this.isShowDeleteDialog = false;\n            this.isShowAddDialog = false;\n        },\n        // 确认删除\n        deleteItem() {\n            let obj = {\n                userId: this.itemData.userId,\n                publisherId: this.id\n            };\n            get_subcription_unsubscribe_api(obj).then(() => {\n                this.formatData('删除成功','success');\n                this.getData();\n            })\n        },\n        // 确认添加订阅\n        addSubcription () {\n            if (this.userId == '') {\n               this.$message({\n                    message: '请输入用户Id',\n                    type: 'warning'\n                });\n                return ;\n            }\n            let obj = {\n                publisherId: this.id,\n                userId: this.userId\n            }\n            get_subcription_subscribe_api(obj).then(() => {\n                this.isShowAddDialog = false;\n                this.formatData('添加成功','success');\n                this.getData();\n            })\n        },\n        // 格式化数据\n        formatData (msg,type) {\n            this.$message({\n                message: msg,\n                type: type\n            });\n            this.isShowDeleteDialog = false;\n            this.isShowAddDialog = false;\n            this.postData.pageNo = 1;\n        }\n    },\n    created() {\n        this.getData();\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subcription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./subcription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./subcription.vue?vue&type=template&id=7fc7b298&scoped=true&\"\nimport script from \"./subcription.vue?vue&type=script&lang=js&\"\nexport * from \"./subcription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fc7b298\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\""],"sourceRoot":""}