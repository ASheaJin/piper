(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ad5e6ae"],{"14eb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.total>10?a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total),"current-page":t.pageNo},on:{"current-change":t.currentChange}}):t._e()},i=[],n={props:["total","pageNo"],methods:{currentChange:function(t){this.$emit("togglePages",t)}}},l=n,o=(a("5645"),a("2877")),r=Object(o["a"])(l,s,i,!1,null,"ac09ad2c",null);e["a"]=r.exports},5645:function(t,e,a){"use strict";var s=a("b620"),i=a.n(s);i.a},"90af":function(t,e,a){"use strict";var s=a("bf99"),i=a.n(s);i.a},b620:function(t,e,a){},b979:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"baseTop"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addUser}},[t._v("添加")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.userList}},[a("el-table-column",{attrs:{prop:"loginName",label:"登录账号"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),a("el-table-column",{attrs:{prop:"email",label:"秘邮邮箱"}}),a("el-table-column",{attrs:{prop:"remark",label:"用户描述",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"400",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.editUser(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return t.resetPwd(e.row)}}},[t._v("重置用户密码")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.check(e.row)}}},[t._v("查看用户角色")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"编辑":"添加",visible:t.isShowAddDialog,width:"50%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowAddDialog=e}}},[t.isAdd?a("div",{staticClass:"addItem"},[a("span",[t._v("用户Id")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入用户Id",disabled:t.isAdd},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}})],1):t._e(),a("div",{staticClass:"addItem"},[a("span",[t._v("登录账号")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入登录账号"},model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("用户名")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入用户名"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("秘邮邮箱")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入邮箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("用户描述")]),a("el-input",{staticClass:"itemInput",attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v(t._s(t.isAdd?"编 辑":"添 加"))])],1)]),a("el-dialog",{attrs:{title:"删除",visible:t.isShowDeleteDialog,width:"30%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowDeleteDialog=e}}},[t.itemData?a("span",[t._v("是否确认删除"),a("span",{staticClass:"tips"},[t._v(t._s(t.itemData.userName))]),t._v("用户")]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteUser}},[t._v("删 除")])],1)]),a("page",{attrs:{total:t.total,pageNo:t.postData.pageNo},on:{togglePages:t.togglePages}})],1)},i=[],n=a("8593"),l=a("14eb"),o={data:function(){return{email:"",loginName:"",remark:"",userId:"",userName:"",isAdd:!1,isShowDeleteDialog:!1,isShowAddDialog:!1,postData:{pageNo:1,pageSize:10},itemData:null,userList:[],total:""}},methods:{getData:function(){var t=this;Object(n["i"])(this.postData).then(function(e){t.userList=e.list,t.total=e.total})},verify:function(){if(""!=this.loginName)if(""!=this.userName){if(""!=this.email){var t={loginName:this.loginName,email:this.email,remark:this.remark,userName:this.userName};return this.isAdd&&(t.userId=this.userId),t}this.$message({message:"请输入邮箱",type:"warning"})}else this.$message({message:"请输入用户名称",type:"warning"});else this.$message({message:"请输入用户登录账号",type:"warning"})},addUser:function(){this.isShowAddDialog=!0,this.isAdd=!1},editUser:function(t){this.userId=t.userId,this.loginName=t.loginName,this.userName=t.userName,this.email=t.email,this.remark=t.remark,this.isAdd=!0,this.isShowAddDialog=!0},handleDelete:function(t){this.itemData=t,this.isShowDeleteDialog=!0},check:function(t){this.$router.push({path:"/userRole/".concat(t.userId)})},cancel:function(){this.isShowDeleteDialog=!1,this.isShowAddDialog=!1},togglePages:function(t){this.postData.pageNo=t,this.getData()},confirm:function(){var t=this,e=this.verify();e&&Object(n["m"])(e).then(function(){t.isAdd?t.formatData("编辑成功","success"):t.formatData("添加成功","success"),t.getData()})},deleteUser:function(){var t=this;Object(n["g"])({userId:this.itemData.userId}).then(function(){t.formatData("删除成功","success"),t.getData()})},resetPwd:function(t){var e=this;Object(n["k"])({userId:t.userId}).then(function(){e.$message({message:"重置密码成功",type:"success"})})},formatData:function(t,e){this.postData={pageNo:1,pageSize:10},this.$message({message:t,type:e}),this.isShowDeleteDialog=!1,this.isShowAddDialog=!1}},created:function(){this.getData()},components:{page:l["a"]}},r=o,c=(a("90af"),a("2877")),u=Object(c["a"])(r,s,i,!1,null,"7a3c3c7d",null);e["default"]=u.exports},bf99:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0ad5e6ae.a4e9b1b4.js.map