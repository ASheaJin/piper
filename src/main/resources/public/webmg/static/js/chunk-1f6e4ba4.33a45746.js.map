{"version":3,"sources":["webpack:///./src/components/page.vue?1583","webpack:///src/components/page.vue","webpack:///./src/components/page.vue?43cf","webpack:///./src/components/page.vue","webpack:///./src/api/recommend.js","webpack:///./src/components/page.vue?0e00","webpack:///./src/views/publisher/content.vue?8fae","webpack:///./src/api/content.js","webpack:///src/views/publisher/content.vue","webpack:///./src/views/publisher/content.vue?528f","webpack:///./src/views/publisher/content.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","total","staticClass","attrs","background","layout","Number","current-page","pageNo","on","current-change","currentChange","_e","staticRenderFns","pagevue_type_script_lang_js_","props","methods","page","$emit","components_pagevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","__webpack_require__","d","get_recommend_content_add_api","get_recommend_content_delete_api","get_recommend_publisher_add_api","get_recommend_publisher_delete_api","_axios_index__WEBPACK_IMPORTED_MODULE_0__","recommend_content_add_api","recommend_content_delete_api","recommend_publisher_add_api","recommend_publisher_delete_api","params","JSON_FETCH","method","url","data","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_page_vue_vue_type_style_index_0_id_ac09ad2c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","clearable","placeholder","change","isRecommend","model","value","postData","callback","$$v","$set","expression","label","staticStyle","width","border","contentList","prop","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","href","row","formatData","target","_v","_s","decUrl","align","size","type","hasRecommend","click","$event","recommendItem","$index","title","visible","isShowDeleteDialog","before-close","cancel","update:visible","slot","deleteItem","togglePages","content_list_api","content_delete_api","get_content_list_api","get_content_delete_api","contentvue_type_script_lang_js_","name","pageSize","publiserId","$route","id","itemData","getList","_this","then","res","list","forEach","ele","JSON","parse","listdesc","handleDelete","_this2","contentId","index","_this3","recommend","reid","msg","$message","message","created","components","publisher_contentvue_type_script_lang_js_"],"mappings":"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","file":"static/js/chunk-1f6e4ba4.33a45746.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.total > 10)?_c('el-pagination',{staticClass:\"page\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":Number(_vm.total),\"current-page\":_vm.pageNo},on:{\"current-change\":_vm.currentChange}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 分页组件 -->\n<template>\n    <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"Number(total)\"\n        :current-page=\"pageNo\"\n        @current-change='currentChange'\n        class=\"page\"\n        v-if=\"total > 10\">\n    </el-pagination>\n</template>\n\n<script>\nexport default {\n    props: ['total','pageNo'],\n    methods: {\n        currentChange (page) {\n            this.$emit('togglePages', page);\n        }\n    },\n}\n</script>\n\n<style scoped lang='scss'>\n.page{\n    text-align: center;\n    margin-top: 20px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=ac09ad2c&scoped=true&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac09ad2c\",\n  null\n  \n)\n\nexport default component.exports","// 推荐\n\nimport { JSON_FETCH } from '@/axios/index';\n\n// 推荐内容列表\nconst recommend_cotnent_list_api = `/recommend/contentList`;\n\n// 添加内容推荐\nconst recommend_content_add_api = `/recommend/contentAdd`;\n\n// 删除内容推荐\nconst recommend_content_delete_api = `/recommend/contentDelete`;\n\n// 推荐出版社列表\nconst recommend_publisher_list_api = `/recommend/publisherList`;\n\n// 添加出版社推荐\nconst recommend_publisher_add_api = `/recommend/publisherAdd`;\n\n// 删除出版社推荐\nconst recommend_publisher_delete_api = `/recommend/publisherDelete`;\n\n/**\n * 添加内容推荐\n * @param { Object } params\n * @param { String } params.contentId 推荐id\n */\nexport function get_recommend_content_add_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_content_add_api,\n        data: params\n    })\n}\n\n/**\n * 删除内容推荐\n * @param { Object } params\n * @param { String } params.id 管理员id\n */\nexport function get_recommend_content_delete_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_content_delete_api,\n        data: params\n    })\n}\n\n/**\n * 推荐内容列表\n * @param { Object } params\n * @param { String } params.pageNo  当前页\n * @param { String } params.pageSize 当前数量\n */\nexport function get_recommend_cotnent_list_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_cotnent_list_api,\n        data: params\n    })\n}\n\n\n/**\n * 推荐出版社列表\n * @param { Object } params\n * @param { String } params.pageNo  当前页\n * @param { String } params.pageSize 当前数量\n */\nexport function get_recommend_publisher_list_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_publisher_list_api,\n        data: params\n    })\n}\n\n/**\n * 添加推荐出版社\n * @param { Object } params\n * @param { String } params.id 管理员id\n */\nexport function get_recommend_publisher_add_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_publisher_add_api,\n        data: params\n    })\n}\n/**\n * 删除出版社推荐\n * @param { Object } params\n * @param { String } params.contentId 推荐id\n */\nexport function get_recommend_publisher_delete_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: recommend_publisher_delete_api,\n        data: params\n    })\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=style&index=0&id=ac09ad2c&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"baseTop\"},[_c('el-select',{staticClass:\"itemInput\",attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.isRecommend},model:{value:(_vm.postData.hasRecommend),callback:function ($$v) {_vm.$set(_vm.postData, \"hasRecommend\", $$v)},expression:\"postData.hasRecommend\"}},[_c('el-option',{attrs:{\"label\":\"已推荐\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"未推荐\",\"value\":\"0\"}})],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.contentList}},[_c('el-table-column',{attrs:{\"prop\":\"formatData.intro\",\"label\":\"内容简介\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"图片视频链接\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.formatData.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.formatData.url))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"内容链接\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":scope.row.decUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(scope.row.decUrl))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":scope.row.hasRecommend == 1 ? 'warning' :'primary'},on:{\"click\":function($event){return _vm.recommendItem(scope.row,scope.$index)}}},[_vm._v(_vm._s(scope.row.hasRecommend == 1 ? '取消推荐' : '推荐'))])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"删除\",\"visible\":_vm.isShowDeleteDialog,\"width\":\"30%\",\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.isShowDeleteDialog=$event}}},[(_vm.itemData)?_c('span',[_vm._v(\"是否确认删除\"),_c('span',{staticClass:\"tips\"},[_vm._v(\"此条内容\")])]):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"删 除\")])],1)]),_c('page',{attrs:{\"total\":_vm.total,\"pageNo\":_vm.postData.pageNo},on:{\"togglePages\":_vm.togglePages}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 内容\n\nimport { JSON_FETCH } from '@/axios/index';\n\n// 内容列表\nconst content_list_api = '/content/list';\n\n// 删除内容\nconst content_delete_api = '/content/delete';\n\n// TODO:激活内容（暂时作废）\nconst content_add_api  = '/content/active'\n\n/**\n * 内容列表\n * @param { Object } params\n * @param { String } params.hasRecommend 是否推荐\n * @param { String } params.pageNo 当前页\n * @param { String } params.pageSize 当前页数\n * @param { String } params.publiserId 出版社id\n */\nexport function get_content_list_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: content_list_api,\n        data: params\n    })\n}\n\n/**\n * 删除内容\n * @param { Object } params\n * @param { String } params.contentId 内容id\n */\nexport function get_content_delete_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: content_delete_api,\n        data: params\n    })\n}\n\n/**\n * TODO:激活内容（暂时作废）\n * @param { Object } params\n * @param { String } params.contentId 内容id\n */\nexport function get_content_add_api(params) {\n    return JSON_FETCH({\n        method: 'post',\n        url: content_add_api,\n        data: params\n    })\n}\n","<template>\n    <div>\n        <div class=\"baseTop\">\n            <el-select \n                v-model=\"postData.hasRecommend\" \n                clearable \n                placeholder=\"请选择\" \n                class=\"itemInput\" \n                @change=\"isRecommend\"\n            >\n                <el-option label=\"已推荐\" value=\"1\"></el-option>\n                <el-option label=\"未推荐\" value=\"0\"></el-option>\n            </el-select>\n        </div>\n        <!-- 列表数据 -->\n        <el-table\n            border\n            :data=\"contentList\"\n            style=\"width: 100%\">\n            <el-table-column\n                prop=\"formatData.intro\"\n                label=\"内容简介\"\n                show-overflow-tooltip>\n            </el-table-column>\n            <el-table-column\n                label=\"图片视频链接\"\n                show-overflow-tooltip>\n                <template slot-scope=\"scope\">\n                    <a :href=\"scope.row.formatData.url\" target=\"_blank\">{{scope.row.formatData.url}}</a>\n                </template>\n            </el-table-column>\n            <el-table-column\n                label=\"内容链接\"\n                show-overflow-tooltip>\n                <template slot-scope=\"scope\">\n                    <a :href=\"scope.row.decUrl\" target=\"_blank\">{{scope.row.decUrl}}</a>\n                </template>\n            </el-table-column>\n            <el-table-column \n                            label=\"操作\"\n                            width=\"120\"\n                            align='center'>\n                <template slot-scope=\"scope\">\n                    <el-button\n                    size=\"mini\"\n                    :type=\"scope.row.hasRecommend == 1 ? 'warning' :'primary'\"\n                    @click=\"recommendItem(scope.row,scope.$index)\">{{scope.row.hasRecommend == 1 ? '取消推荐' : '推荐' }}</el-button>\n                    <!-- <el-button\n                    size=\"mini\"\n                    type=\"danger\"\n                    @click=\"handleDelete(scope.row)\">删除</el-button> -->\n                </template>\n            </el-table-column>\n        </el-table>\n         <!-- 删除弹框 -->\n        <el-dialog\n            title=\"删除\"\n            :visible.sync=\"isShowDeleteDialog\"\n            width=\"30%\"\n            :before-close=\"cancel\">\n            <span v-if=\"itemData\">是否确认删除<span class=\"tips\">此条内容</span></span>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"cancel\">取 消</el-button>\n                <el-button type=\"danger\" @click=\"deleteItem\">删 除</el-button>\n            </span>\n        </el-dialog>\n        <!-- 分页 -->\n        <page :total='total' :pageNo='postData.pageNo' @togglePages='togglePages'></page>\n    </div>\n</template>\n\n<script>\nimport { get_content_list_api, get_content_delete_api } from '@/api/content.js';\nimport { get_recommend_content_add_api, get_recommend_content_delete_api } from '@/api/recommend';\nimport page from '@/components/page';\nexport default {\n    name: 'name',\n    data() {\n        return {\n            isShowDeleteDialog: false, // 是否显示添加弹框\n            postData: {\n                hasRecommend: '',\n                pageNo: 1,\n                pageSize: 10,\n                publiserId: this.$route.params.id\n            },\n            contentList: [], // 列表数据\n            total: '', // 总条数\n            itemData: null // 当前条数据\n        }\n    },\n    methods: {\n        // 获取数据\n        getList() {\n            get_content_list_api(this.postData).then(res => {\n                res.list.forEach(ele => {\n                    ele.formatData = JSON.parse(ele.listdesc);\n                });\n                this.contentList = res.list;\n                this.total = res.total;\n            })\n        },\n        isRecommend() {\n            this.postData.pageNo = 1;\n            this.getList();\n        },\n        // 取消\n        cancel() {\n            this.isShowDeleteDialog = false;\n        },\n        // 删除\n        handleDelete(row) {\n            this.itemData = row;\n            this.isShowDeleteDialog = true;\n        },\n        // 确认删除\n        deleteItem() {\n            get_content_delete_api({contentId: this.itemData.contentId}).then(() => {\n                this.formatData('删除成功！','success');\n                // 刷新列表数据，再次请求列表数据。\n                this.getList();\n            });\n        },\n        // 分页\n       togglePages (page) {\n           this.postData.pageNo = page;\n           this.getList();\n       },\n        // 推荐\n       recommendItem(row,index) {\n            // 推荐   \n           if ( row.hasRecommend == 0 ) {\n               get_recommend_content_add_api({contentId:row.contentId}).then(() => {\n                   this.contentList[index].hasRecommend = 1;\n               })\n            // 取消推荐\n           } else {\n                get_recommend_content_delete_api({reid:row.contentId}).then(() => {\n                   this.contentList[index].hasRecommend = 0;\n               })\n           }\n       },\n        // 格式化数据\n        formatData (msg,type) {\n            this.$message({\n                message: msg,\n                type: type\n            });\n            this.isShowDeleteDialog = false;\n            this.postData.pageNo = 1;\n        }\n    },\n    created() {\n        this.getList();\n    },\n    components: {\n        page\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./content.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./content.vue?vue&type=template&id=f8c24c8a&scoped=true&\"\nimport script from \"./content.vue?vue&type=script&lang=js&\"\nexport * from \"./content.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8c24c8a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}