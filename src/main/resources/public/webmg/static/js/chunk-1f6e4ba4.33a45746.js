(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f6e4ba4"],{"14eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.total>10?a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total),"current-page":t.pageNo},on:{"current-change":t.currentChange}}):t._e()},o=[],s={props:["total","pageNo"],methods:{currentChange:function(t){this.$emit("togglePages",t)}}},l=s,c=(a("5645"),a("2877")),i=Object(c["a"])(l,n,o,!1,null,"ac09ad2c",null);e["a"]=i.exports},"42ba":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return u}),a.d(e,"d",function(){return d});var n=a("eeb9"),o="/recommend/contentAdd",s="/recommend/contentDelete",l="/recommend/publisherAdd",c="/recommend/publisherDelete";function i(t){return Object(n["a"])({method:"post",url:o,data:t})}function r(t){return Object(n["a"])({method:"post",url:s,data:t})}function u(t){return Object(n["a"])({method:"post",url:l,data:t})}function d(t){return Object(n["a"])({method:"post",url:c,data:t})}},5645:function(t,e,a){"use strict";var n=a("b620"),o=a.n(n);o.a},"5b38":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"baseTop"},[a("el-select",{staticClass:"itemInput",attrs:{clearable:"",placeholder:"请选择"},on:{change:t.isRecommend},model:{value:t.postData.hasRecommend,callback:function(e){t.$set(t.postData,"hasRecommend",e)},expression:"postData.hasRecommend"}},[a("el-option",{attrs:{label:"已推荐",value:"1"}}),a("el-option",{attrs:{label:"未推荐",value:"0"}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.contentList}},[a("el-table-column",{attrs:{prop:"formatData.intro",label:"内容简介","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"图片视频链接","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.formatData.url,target:"_blank"}},[t._v(t._s(e.row.formatData.url))])]}}])}),a("el-table-column",{attrs:{label:"内容链接","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.decUrl,target:"_blank"}},[t._v(t._s(e.row.decUrl))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:1==e.row.hasRecommend?"warning":"primary"},on:{click:function(a){return t.recommendItem(e.row,e.$index)}}},[t._v(t._s(1==e.row.hasRecommend?"取消推荐":"推荐"))])]}}])})],1),a("el-dialog",{attrs:{title:"删除",visible:t.isShowDeleteDialog,width:"30%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowDeleteDialog=e}}},[t.itemData?a("span",[t._v("是否确认删除"),a("span",{staticClass:"tips"},[t._v("此条内容")])]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteItem}},[t._v("删 除")])],1)]),a("page",{attrs:{total:t.total,pageNo:t.postData.pageNo},on:{togglePages:t.togglePages}})],1)},o=[],s=a("eeb9"),l="/content/list",c="/content/delete";function i(t){return Object(s["a"])({method:"post",url:l,data:t})}function r(t){return Object(s["a"])({method:"post",url:c,data:t})}var u=a("42ba"),d=a("14eb"),m={name:"name",data:function(){return{isShowDeleteDialog:!1,postData:{hasRecommend:"",pageNo:1,pageSize:10,publiserId:this.$route.params.id},contentList:[],total:"",itemData:null}},methods:{getList:function(){var t=this;i(this.postData).then(function(e){e.list.forEach(function(t){t.formatData=JSON.parse(t.listdesc)}),t.contentList=e.list,t.total=e.total})},isRecommend:function(){this.postData.pageNo=1,this.getList()},cancel:function(){this.isShowDeleteDialog=!1},handleDelete:function(t){this.itemData=t,this.isShowDeleteDialog=!0},deleteItem:function(){var t=this;r({contentId:this.itemData.contentId}).then(function(){t.formatData("删除成功！","success"),t.getList()})},togglePages:function(t){this.postData.pageNo=t,this.getList()},recommendItem:function(t,e){var a=this;0==t.hasRecommend?Object(u["a"])({contentId:t.contentId}).then(function(){a.contentList[e].hasRecommend=1}):Object(u["b"])({reid:t.contentId}).then(function(){a.contentList[e].hasRecommend=0})},formatData:function(t,e){this.$message({message:t,type:e}),this.isShowDeleteDialog=!1,this.postData.pageNo=1}},created:function(){this.getList()},components:{page:d["a"]}},p=m,f=a("2877"),h=Object(f["a"])(p,n,o,!1,null,"f8c24c8a",null);e["default"]=h.exports},b620:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1f6e4ba4.33a45746.js.map