(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1603bb74"],{"14eb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.total>10?a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total),"current-page":t.pageNo},on:{"current-change":t.currentChange}}):t._e()},i=[],n={props:["total","pageNo"],methods:{currentChange:function(t){this.$emit("togglePages",t)}}},o=n,l=(a("5645"),a("17cc")),r=Object(l["a"])(o,s,i,!1,null,"ac09ad2c",null);e["a"]=r.exports},"4b2b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"baseTop"},[a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.postData.keyword,callback:function(e){t.$set(t.postData,"keyword",e)},expression:"postData.keyword"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.addAdmin}},[t._v("添加")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.adminList}},[a("el-table-column",{attrs:{prop:"userId",label:"用户Id"}}),a("el-table-column",{attrs:{prop:"ptype",label:"管理员类型"}}),a("el-table-column",{attrs:{prop:"formatStatus",label:"是否可用",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:1==e.row.status?"danger":"primary"},on:{click:function(a){return t.isToggleValid(e.row,e.$index)}}},[t._v(t._s(1==e.row.status?"禁用":"启用"))])]}}])})],1),a("el-dialog",{attrs:{title:"删除",visible:t.isShowDeleteDialog,width:"30%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowDeleteDialog=e}}},[t.itemData?a("span",[t._v("是否确认删除"),a("span",{staticClass:"tips"},[t._v(t._s(t.itemData.userId))]),t._v("管理员")]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteItem}},[t._v("删 除")])],1)]),a("el-dialog",{attrs:{title:"添加",visible:t.isShowAddAdmin,width:"50%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowAddAdmin=e}}},[a("div",{staticClass:"addItem"},[a("span",[t._v("管理员账号：")]),a("el-input",{attrs:{placeholder:"请输入管理员账号"},model:{value:t.adminId,callback:function(e){t.adminId=e},expression:"adminId"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("管理员类型：")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.adminType,callback:function(e){t.adminType=e},expression:"adminType"}},t._l(t.adminTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmAdd}},[t._v("添 加")])],1)]),a("page",{attrs:{total:t.total,pageNo:t.postData.pageNo},on:{togglePages:t.togglePages}})],1)},i=[],n=(a("612f"),a("eeb9")),o="/admin/add",l="/admin/delete",r="/admin/list",c="/admin/getPiperType";function d(t){return Object(n["a"])({method:"post",url:o,data:t})}function u(t){return Object(n["a"])({method:"post",url:l,data:t})}function p(t){return Object(n["a"])({method:"post",url:r,data:t})}function m(){return Object(n["a"])({method:"post",url:c})}var h=a("14eb"),f={data:function(){return{adminType:"",adminTypeList:"",adminId:"",isShowAddAdmin:!1,itemData:null,isShowDeleteDialog:!1,postData:{keyword:"",pageNo:1,pageSize:"10"},adminList:[],total:""}},methods:{getList:function(t){var e=this;p(t).then(function(t){t.list.forEach(function(t){1==t.status?t.formatStatus="可用":t.formatStatus="不可用"}),e.adminList=t.list,e.total=t.total})},togglePages:function(t){this.postData.pageNo=t,this.getList(this.postData)},search:function(){this.postData.pageNo=1,this.getList(this.postData)},cancel:function(){this.isShowAddAdmin=!1,this.isShowDeleteDialog=!1},addAdmin:function(){var t=this;this.adminId="",this.adminType="",this.isShowAddAdmin=!0,0==this.adminTypeList.length&&m().then(function(e){t.adminTypeList=e})},isToggleValid:function(t,e){var a=this,s={userId:t.userId};1==t.status?u(s).then(function(){a.adminList[e].status="0",a.formatData("禁用成功！","success")}):d(s).then(function(){a.adminId="",a.adminList[e].status="1",a.formatData("启用成功！","success")})},confirmAdd:function(){var t=this;if(""!=this.adminId)if(""!=this.adminType){var e={userId:this.adminId,piperType:this.adminType};d(e).then(function(){t.adminId="",t.formatData("成功添加管理员！","success"),t.getList(t.postData)})}else this.$message({message:"请选择管理员类型",type:"warning"});else this.$message({message:"请输入管理员账号",type:"warning"})},deleteItem:function(){var t=this,e={userId:this.itemData.userId,adminUserId:this.postData.userId};u(e).then(function(){t.formatData("删除管理员！","success"),t.getList(t.postData)})},formatData:function(t,e){this.$message({message:t,type:e}),this.isShowAddAdmin=!1,this.isShowDeleteDialog=!1,this.postData.pageNo=1}},created:function(){this.getList(this.postData)},components:{page:h["a"]}},g=f,b=(a("b828"),a("17cc")),v=Object(b["a"])(g,s,i,!1,null,"3d57b491",null);e["default"]=v.exports},5645:function(t,e,a){"use strict";var s=a("92cb"),i=a.n(s);i.a},"5a87":function(t,e,a){},"92cb":function(t,e,a){},b828:function(t,e,a){"use strict";var s=a("5a87"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-1603bb74.23e156c0.js.map