(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-900010fa"],{"14eb":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.total>10?a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total),"current-page":t.pageNo},on:{"current-change":t.currentChange}}):t._e()},l=[],s={props:["total","pageNo"],methods:{currentChange:function(t){this.$emit("togglePages",t)}}},i=s,n=(a("5645"),a("17cc")),r=Object(n["a"])(i,o,l,!1,null,"ac09ad2c",null);e["a"]=r.exports},2525:function(t,e,a){},4269:function(t,e,a){"use strict";var o=a("2525"),l=a.n(o);l.a},5645:function(t,e,a){"use strict";var o=a("92cb"),l=a.n(o);l.a},"92cb":function(t,e,a){},f982:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"baseTop"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addRole}},[t._v("添加")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.roleList}},[a("el-table-column",{attrs:{prop:"roleName",label:"角色"}}),a("el-table-column",{attrs:{prop:"remark",label:"角色描述",width:"180"}}),a("el-table-column",{attrs:{label:"角色类型",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s("1"==e.row.roleType?"管理员":"普通")+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.editRole(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.check(e.row)}}},[t._v("查看角色菜单")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:t.isAdd?"编辑":"添加",visible:t.isShowAddDialog,width:"50%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowAddDialog=e}}},[t.isAdd?a("div",{staticClass:"addItem"},[a("span",[t._v("角色Id")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入角色Id",disabled:t.isAdd},model:{value:t.roleId,callback:function(e){t.roleId=e},expression:"roleId"}})],1):t._e(),a("div",{staticClass:"addItem"},[a("span",[t._v("角色名称")]),a("el-input",{staticClass:"itemInput",attrs:{placeholder:"请输入角色名称"},model:{value:t.roleName,callback:function(e){t.roleName=e},expression:"roleName"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("角色描述")]),a("el-input",{staticClass:"itemInput",attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("div",{staticClass:"addItem"},[a("span",[t._v("角色类型")]),a("el-select",{staticClass:"itemInput",attrs:{placeholder:"请选择",clearable:""},model:{value:t.roleType,callback:function(e){t.roleType=e},expression:"roleType"}},[a("el-option",{attrs:{label:"管理员",value:"1"}}),a("el-option",{attrs:{label:"普通",value:"2"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v(t._s(t.isAdd?"编 辑":"添 加"))])],1)]),a("el-dialog",{attrs:{title:"删除",visible:t.isShowDeleteDialog,width:"30%","before-close":t.cancel},on:{"update:visible":function(e){t.isShowDeleteDialog=e}}},[t.itemData?a("span",[t._v("是否确认删除"),a("span",{staticClass:"tips"},[t._v(t._s(t.itemData.roleName))]),t._v("角色")]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteRole}},[t._v("删 除")])],1)]),a("page",{attrs:{total:t.total,pageNo:t.postData.pageNo},on:{togglePages:t.togglePages}})],1)},l=[],s=a("8593"),i=a("14eb"),n={data:function(){return{itemData:null,isAdd:!1,roleId:"",roleName:"",roleType:"",remark:"",isShowDeleteDialog:!1,isShowAddDialog:!1,postData:{pageNo:1,pageSize:10},roleList:[],total:""}},methods:{verify:function(){if(""!=this.roleName){if(""!=this.roleType){var t={remark:this.remark,roleName:this.roleName,roleType:this.roleType};return this.isAdd&&(t.roleId=this.roleId),t}this.$message({message:"请选择角色类型",type:"warning"})}else this.$message({message:"请输入角色名称",type:"warning"})},getData:function(){var t=this;Object(s["d"])(this.postData).then(function(e){t.roleList=e.list,t.total=e.total})},togglePages:function(t){this.postData.pageNo=t,this.getData()},handleDelete:function(t){this.itemData=t,this.isShowDeleteDialog=!0},check:function(t){this.$router.push({path:"/roleMenu/".concat(t.roleId)})},editRole:function(t){this.roleId=t.roleId,this.roleName=t.roleName,this.roleType=1==t.roleType?"管理员":"普通",this.remark=t.remark,this.isAdd=!0,this.isShowAddDialog=!0},addRole:function(){this.isAdd=!1,this.roleId="",this.roleName="",this.roleType="",this.remark="",this.isShowAddDialog=!0},cancel:function(){this.isShowDeleteDialog=!1,this.isShowAddDialog=!1},confirm:function(){var t=this,e=this.verify();e&&Object(s["f"])(e).then(function(){t.isAdd?t.formatData("编辑成功","success"):t.formatData("添加成功","success"),t.getData()})},deleteRole:function(){var t=this;Object(s["b"])({roleId:this.itemData.roleId}).then(function(){t.formatData("删除成功","success")})},formatData:function(t,e){this.postData={pageNo:1,pageSize:10},this.$message({message:t,type:e}),this.isShowDeleteDialog=!1,this.isShowAddDialog=!1}},created:function(){this.getData()},components:{page:i["a"]}},r=n,c=(a("4269"),a("17cc")),d=Object(c["a"])(r,o,l,!1,null,"743c126c",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-900010fa.47b8ef53.js.map